# Java开发工具集之单元测试工具

### *使用JUnit、AssertJ和Mockito编写单元测试和实践TDD*

---

*If builders built buildings the way programmers wrote programs, then the first woodpecker that came along would destroy civilization.（如果建筑业者用我们程序员写程序的方式盖楼造桥，那么第一只飞来驻足的啄木鸟就足以毁灭人类文明）*

<p style="text-align:right">—Weinberg's second law（温伯格第二定律）<p>

本教程是Java开发工具集系列中的一个部分。

## 工欲善其事，必先利其器
工具与人类的产生和发展相始终。没有工具，就没有现代人，只有和其他动物没有本质区别的一群猿猴。

**工具使不可能的事情成为可能。**

对于类人猿来说，要弄断一棵大树是完全不可能的，要登月就更不可能了。现代人类借助斧头就能砍倒大树，借助宇宙飞船就可以登上月亮。借助工具，以前不可能实现的很多事情现在都可以实现了。

**工具使可能的事情做得更快更好。**

类人猿也许能够偶尔捕获到一两条鱼，但现代人借助渔网，可以捕获多得多的鱼。工具不会疲倦，不会懈怠，不会徇私，不会说谎。在很多方面，工具比人类做得更多、更快、更好。

所以马克思认为：**会制造和使用工具，是人和动物的根本区别。**

**工具加速人类进化，使猿变成了人。**

自从懂得利用火之后，人类不再茹毛饮血，开始吃熟食。在大大减少寄生虫传染的同时，牙齿和肠子逐渐缩短。人类开始利用石器和棍棒之后，手就进化出来了，下肢也变成直立的了。人类发明衣服之后，身上的体毛也逐渐退化。使用各种工具的结果，类人猿就变成了我们现在的样子。

**工具使人类超越进化限制变成了神。**

工具是身体的延伸。例如，本质上，弓箭就是牙爪的延伸。人类没有翅膀，却能够借助飞机上到天空；人类没有鱼鳍，却借助轮船跨越海洋；人类没有筋斗云，却能够借助飞船登上月亮。人类的视力有限，却能够借助显微镜看见细菌，借助射电望远镜见到几亿光年之外的星星。两个人即使相隔千山万水，仍可以通过电话听到对方的声音，通过视频聊天看到对方的形貌。神话中的“千里眼”、“顺风耳”，早已被人类超越了。工具使人类超越了进化的局限，成为一个超级物种，几乎可以与上帝媲美。

所以：

* **要使用工具**。

不要炫技。不要吹嘘“我从来不用IDE编写代码。我用记事本写代码比你们用IDE编写代码快多了”。在我眼中，这样的人是SB。这样的人不该获得尊敬，只应获得鄙视。

* **要寻找更好的工具**。

斧头可以伐木，电锯也可以伐木。把斧头磨锋利当然可以提高生产力，但远远比不上换用电锯的生产力。不要满足于你当前熟悉的工具，永远要寻找更好的工具。

回到软件开发这个小范畴，其实各种先进的软件开发工具已经应有尽有，商业的、开源的，百花齐放。但是在国内真正用上这些工具的开发者和开发团队却是少之又少。大量的开发者和开发团队最多用到了IDE(主要是Eclipse)和版本控制软件（Subversion和GIT），连单元测试、自动化构建和持续集成工具都没有使用，这样的现状是很令人悲哀的。“卖花姑娘插竹叶”，我们为客户实现自动化，自己却用手工的方式开发、部署、测试和管理软件，这真是一个绝妙的讽刺。

充分掌握现代软件开发工具，释放你的生产力，解放你的创造力。

## 单元测试工具集简介

采用测试驱动开发（简称DDD）与否，可以认为是专业与业余的分水岭。

TDD是多个敏捷方法论力推的最佳实践之一。如果只能保留一个敏捷最佳实践，我必然是保留TDD。如果可以保留两个，那就再加上持续集成。

采用与不采用TDD，代码质量和设计质量有天壤之别。

不采用TDD的，也有写的好的代码（但很罕见）。采用TDD的，基本都是好代码。长期坚持TDD，程序员的的代码和设计会越来越好。你会感觉写代码越来越像写诗，而不是像搬砖；你自己成了诗人，而不再是悲催的码农。

JUnit、AssertJ和Mockito是单元测试三剑客。JUnit用于编写和执行测试，AssertJ用于编写断言，而Mockito用于编写测试替身，以隔离被测类的协作者，使得测试范围真正局限于代码“单元”，而不至于变成集成测试。

